{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/resource/Desktop/CA/Clima/clima/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/resource/Desktop/CA/Clima/clima/src/App.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\n  background: #fff;\\n  text-align: center;\\n  width:100%;\\n  padding: 1em 0 1em;\\n\\n  \", \" img{\\n    width: 10%;\\n  }\\n  @media (max-width: 700px) {\\n    \", \" {\\n      position: fixed;\\n      z-index: 1;\\n    }\\n    \", \" img{\\n      width: 50%;\\n    }\\n  }\\n\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-around;\\n  padding: 15em;\\n\\n\\t@media (max-width: 700px) {\\n    flex-direction:column;\\n    padding: 0;\\n    padding: 2.5rem;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport logo from \"./assets/images/logo.svg\";\nimport './App.css';\nimport styled from \"styled-components\";\nimport api from './utils/api';\nimport CardClima from './components/CardClima';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      loading: false,\n      cidades: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"refreshData\",\n    value: function refreshData() {\n      var _this2 = this;\n\n      setInterval(function () {\n        _this2.setState({\n          loading: true\n        }, function () {\n          api.getNairobi().then(function (response) {\n            _this2.setState(function (_ref) {\n              var cidades = _ref.cidades;\n              return {\n                loading: false,\n                cidades: [].concat(_toConsumableArray(cidades.slice(0, 1)), [_objectSpread({}, cidades[1], {\n                  name: response.name\n                })], _toConsumableArray(cidades.slice(2)))\n              };\n            });\n          });\n          api.getUbirici().then(function (response) {\n            _this2.setState(function (_ref2) {\n              var cidades = _ref2.cidades;\n              return {\n                loading: false,\n                cidades: [].concat(_toConsumableArray(cidades.slice(0, 1)), [_objectSpread({}, cidades[1], {\n                  name: response.name\n                })], _toConsumableArray(cidades.slice(2)))\n              };\n            });\n          });\n          api.getNuuk().then(function (response) {\n            _this2.setState(function (_ref3) {\n              var cidades = _ref3.cidades;\n              return {\n                loading: false,\n                cidades: [].concat(_toConsumableArray(cidades.slice(0, 1)), [_objectSpread({}, cidades[1], {\n                  name: response.name\n                })], _toConsumableArray(cidades.slice(2)))\n              };\n            });\n          });\n        });\n      }, 100000);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.setState({\n        loading: true\n      }, function () {\n        api.getNairobi().then(function (response) {\n          _this3.setState({\n            loading: false,\n            cidades: [].concat(_toConsumableArray(_this3.state.cidades), [response])\n          });\n        });\n        api.getUbirici().then(function (response) {\n          _this3.setState({\n            loading: false,\n            cidades: [].concat(_toConsumableArray(_this3.state.cidades), [response])\n          });\n        });\n        api.getNuuk().then(function (response) {\n          _this3.setState({\n            loading: false,\n            cidades: [].concat(_toConsumableArray(_this3.state.cidades), [response])\n          });\n        });\n        console.log('State atual,:', _this3.state.cidades);\n      });\n      localStorage.setItem('cidades_cache', JSON.stringify(this.state.cidades));\n      this.refreshData();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          cidades = _this$state.cidades;\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, loading ? React.createElement(Loading, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }) : cidades.map(function (cidades, i) {\n        return React.createElement(CardClima, {\n          key: i,\n          local: cidades.name,\n          temperatura: cidades.main.temp,\n          humidity: cidades.main.humidity,\n          pressure: cidades.main.pressure,\n          horaAtualizacao: new Date().toLocaleString(),\n          card_name: cidades.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        });\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar Container = styled.div(_templateObject());\nvar HeaderStyle = styled.div(_templateObject2(), Header, Header, Header);\n\nvar Header = function Header() {\n  return React.createElement(HeaderStyle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: require('./assets/images/logo.svg'),\n    alt: \"logo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }));\n};\n\nvar Loading = function Loading() {\n  return React.createElement(\"img\", {\n    src: require('./assets/images/loader.svg'),\n    alt: \"Carregando dados\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  });\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/resource/Desktop/CA/Clima/clima/src/App.js"],"names":["React","Component","styled","api","CardClima","App","props","state","loading","cidades","setInterval","setState","getNairobi","then","response","slice","name","getUbirici","getNuuk","console","log","localStorage","setItem","JSON","stringify","refreshData","map","i","main","temp","humidity","pressure","Date","toLocaleString","Container","div","HeaderStyle","Header","require","Loading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport logo from './assets/images/logo.svg';\nimport './App.css';\nimport styled from \"styled-components\";\n\nimport api from './utils/api';\nimport CardClima from './components/CardClima';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      loading: false,\n      cidades: []\n    }\n  }\n  refreshData() {\n    setInterval(() => {\n      this.setState({ loading: true }, () => {\n        api.getNairobi().then(response => {\n          this.setState(({cidades}) => ({\n            loading: false,\n            cidades: [\n              ...cidades.slice(0,1),\n              {\n                ...cidades[1],\n                name: response.name,\n              },\n              ...cidades.slice(2)\n            ]\n          })\n          );\n        })\n        api.getUbirici().then(response => {\n          this.setState(({cidades}) => ({\n            loading: false,\n            cidades: [\n              ...cidades.slice(0,1),\n              {\n                ...cidades[1],\n                name: response.name,\n              },\n              ...cidades.slice(2)\n            ]\n          })\n          );\n        })\n        api.getNuuk().then(response => {\n          this.setState(({cidades}) => ({\n            loading: false,\n            cidades: [\n              ...cidades.slice(0,1),\n              {\n                ...cidades[1],\n                name: response.name,\n              },\n              ...cidades.slice(2)\n            ]\n          })\n          );\n        })\n      });\n    }, 100000)\n  }\n  componentDidMount() {\n    this.setState({ loading: true }, () => {\n      api.getNairobi().then(response => {\n        this.setState({ \n          loading: false,\n          cidades: [...this.state.cidades, response]}\n          )\n      })\n      api.getUbirici().then(response => {\n        this.setState({ \n          loading: false,\n          cidades: [...this.state.cidades, response]}\n          )\n      })\n      api.getNuuk().then(response => {\n        this.setState({ \n          loading: false,\n          cidades: [...this.state.cidades, response]}\n          )\n      })\n      \n      console.log('State atual,:', this.state.cidades)\n    });\n    localStorage.setItem('cidades_cache', JSON.stringify(this.state.cidades));\n    this.refreshData()\n  }\n \n  render() {\n    const { loading, cidades } = this.state\n    return (\n      <div className=\"app\">\n        <Header />\n        <Container>\n          {\n            loading ? <Loading/> : \n            cidades.map((cidades, i) => \n            <CardClima\n                key={i}\n                local={cidades.name}\n                temperatura={cidades.main.temp}\n                humidity={cidades.main.humidity}\n                pressure={cidades.main.pressure}\n                horaAtualizacao={new Date().toLocaleString()}\n                card_name={cidades.name}\n              /> \n            )\n          }\n        </Container>\n      </div>\n    );\n  }\n}\n\nconst Container = styled.div`\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 15em;\n\n\t@media (max-width: 700px) {\n    flex-direction:column;\n    padding: 0;\n    padding: 2.5rem;\n  }\n`;\n\nconst HeaderStyle = styled.div`\n\n  background: #fff;\n  text-align: center;\n  width:100%;\n  padding: 1em 0 1em;\n\n  ${ Header } img{\n    width: 10%;\n  }\n  @media (max-width: 700px) {\n    ${ Header } {\n      position: fixed;\n      z-index: 1;\n    }\n    ${ Header } img{\n      width: 50%;\n    }\n  }\n\n`;\n\nconst Header = () => (\n  <HeaderStyle>\n    <img src={require('./assets/images/logo.svg')} alt=\"logo\" />\n  </HeaderStyle>\n) \n\nconst Loading = () => <img  src={require('./assets/images/loader.svg')} alt=\"Carregando dados\" />;\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}